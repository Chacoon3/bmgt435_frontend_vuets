import{a as w,u as b}from"./caseRecordsUtils-db8f6fd2.js";import{T as C}from"./TableView-84274174.js";import{d as y,l as u,o as a,c as s,f as o,e as T,b as d,t as x,K as R}from"./index-56a4a321.js";const B={key:0},k={key:1},D=["disabled"],N={key:2},L=y({__name:"RecordsView",setup(M){const{show:c,close:m}=R(),v=u(()=>r.value===!0?"Fetching...":i.value===!0?"View More":"No More Records"),{data:n,isLoading:r,clearCache:V,getData:l,hasMore:i}=w(),f=u(()=>({headers:["Case Name","Submitted by","Time","Score"],rows:Array.from(n.value,e=>h(e))}));l();const{isDownloading:g,downloadCaseRecord:p}=b();function _(e){g.value!==!0&&(c({title:"Downloading"}),p(e,t=>{m()}))}function h(e){var t;return[{elementType:"text",value:e.case_name},{elementType:"text",value:e.user_name},{elementType:"text",value:e.create_time},{elementType:"text",value:((t=e.score)==null?void 0:t.toString())??"N/A"},{elementType:"button",elementClass:"aLikeButton",value:"download detailed record",onClick:()=>_(e.id)}]}return(e,t)=>(a(),s("div",null,[o(r)===!0&&o(n).length===0?(a(),s("div",B,"Fetching Data..")):o(n).length>0?(a(),s("div",k,[T(C,{"table-config":f.value},null,8,["table-config"]),d("div",null,[d("button",{class:"normalButton",onClick:t[0]||(t[0]=S=>o(l)()),disabled:o(i)===!1||o(r)===!0},x(v.value),9,D)])])):(a(),s("div",N,"No records available at this time"))]))}});export{L as default};
